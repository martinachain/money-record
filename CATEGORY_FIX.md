# 类别显示问题修复

## 问题描述
预算设置页面和支出类别预设没有显示。

## 修复内容

### 1. 修复 BudgetSettings 组件中的 ID 引用错误
- **问题**: 代码使用了 `category.id`，但 Convex 返回的是 `category._id`
- **修复**: 将所有 `category.id` 改为 `category._id`
- **文件**: `src/components/BudgetSettings.tsx`

### 2. 添加自动初始化类别数据功能
- **问题**: Convex 数据库中没有初始类别数据
- **修复**: 
  - 创建了 `convex/seed.ts` 文件，包含 `initializeCategories` mutation
  - 在 `App.tsx` 中添加了自动初始化逻辑，当检测到类别为空时自动创建预设类别
- **文件**: 
  - `convex/seed.ts` (新建)
  - `src/App.tsx` (修改)

### 3. 修复 usage 数据匹配问题
- **问题**: `getUsageForCategory` 函数中类别 ID 类型不匹配
- **修复**: 使用字符串比较来匹配类别 ID
- **文件**: `src/components/BudgetSettings.tsx`

## 预设类别

系统会自动创建以下预设类别：

### 支出类别
- 🍜 餐饮
- 🚗 交通
- 🛒 购物
- 🎮 娱乐
- 🏠 住房
- 💊 医疗
- 📚 教育
- 💸 其他支出

### 收入类别
- 💰 工资
- 🎁 奖金
- 📈 投资收益
- 💵 其他收入

## 使用方法

### 自动初始化（推荐）
应用会在首次加载时自动检测并初始化类别数据，无需手动操作。

### 手动初始化（如果需要）
如果自动初始化失败，可以在浏览器控制台运行：

```javascript
// 在 Convex Dashboard 中运行
// 或通过 API 调用
```

## 验证修复

1. 刷新浏览器页面
2. 检查"预算设置"页面是否显示支出类别列表
3. 检查"记账"页面是否显示收入和支出类别选项

## 注意事项

- 初始化只会在数据库为空时执行一次
- 如果类别已存在，不会重复创建
- 类别数据是全局共享的，所有用户都可以使用
